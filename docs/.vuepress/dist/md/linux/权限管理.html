<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>权限管理 | NOTE</title><meta name="description" content="这是我的NOTE站点">
    <link rel="preload" href="/assets/style-tstkky8y.css" as="style"><link rel="stylesheet" href="/assets/style-tstkky8y.css">
    <link rel="modulepreload" href="/assets/app-DyLo7YyT.js"><link rel="modulepreload" href="/assets/权限管理.html-DardF_Dj.js">
    <link rel="prefetch" href="/assets/index.html-AKF5FwiS.js" as="script"><link rel="prefetch" href="/assets/ElasticSearch.html-CQ4_Rwtb.js" as="script"><link rel="prefetch" href="/assets/oracle优化.html-b1ZMCS0X.js" as="script"><link rel="prefetch" href="/assets/SQL.html-BaJAvSoz.js" as="script"><link rel="prefetch" href="/assets/函数、存储过程和视图.html-BG6urE-E.js" as="script"><link rel="prefetch" href="/assets/操作系统基础.html-tnfR0XyG.js" as="script"><link rel="prefetch" href="/assets/软件设计.html-BxLX8R6X.js" as="script"><link rel="prefetch" href="/assets/linux工具.html-DJF4j7v4.js" as="script"><link rel="prefetch" href="/assets/shell编程.html-lkl_oreL.js" as="script"><link rel="prefetch" href="/assets/shell编程基础.html-BzYAUuXT.js" as="script"><link rel="prefetch" href="/assets/vi编辑器.html-483zNoed.js" as="script"><link rel="prefetch" href="/assets/基础知识.html-bbT2fISf.js" as="script"><link rel="prefetch" href="/assets/备份与恢复.html-D1oD0y6R.js" as="script"><link rel="prefetch" href="/assets/文件系统管理.html-DWaehFwT.js" as="script"><link rel="prefetch" href="/assets/服务管理.html-BSdWCgHk.js" as="script"><link rel="prefetch" href="/assets/系统管理.html-Ddl5ilcE.js" as="script"><link rel="prefetch" href="/assets/乐理基础.html-BJpW2UgM.js" as="script"><link rel="prefetch" href="/assets/c_基础.html-BzI1IF95.js" as="script"><link rel="prefetch" href="/assets/HashMap类.html-DORMygcw.js" as="script"><link rel="prefetch" href="/assets/STL库.html-FggaJrGJ.js" as="script"><link rel="prefetch" href="/assets/服务架构.html-BUhqrq2d.js" as="script"><link rel="prefetch" href="/assets/线程.html-DlNlUpRX.js" as="script"><link rel="prefetch" href="/assets/MyBatis.html-zPf4l8EA.js" as="script"><link rel="prefetch" href="/assets/Spring基础.html-Ce48BarP.js" as="script"><link rel="prefetch" href="/assets/SpringCloud.html-D4NConIl.js" as="script"><link rel="prefetch" href="/assets/Spring_Cloud_Hystrix原理.html-BrGtqE_J.js" as="script"><link rel="prefetch" href="/assets/Spring_Cloud_Ribbon源码.html-2zkS88Gm.js" as="script"><link rel="prefetch" href="/assets/404.html-DoNSH0fR.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-DcUHaBPd.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name" aria-hidden="true">NOTE</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="编程"><span class="title">编程</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="编程"><span class="title">编程</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>java</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/code/java/%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84.html" aria-label="架构基础"><!--[--><!--[--><!--]--><!--]-->架构基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/code/java/%E7%BA%BF%E7%A8%8B.html" aria-label="java线程简介"><!--[--><!--[--><!--]--><!--]-->java线程简介<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/code/java/HashMap%E7%B1%BB.html" aria-label="HashMap"><!--[--><!--[--><!--]--><!--]-->HashMap<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/code/java/STL%E5%BA%93.html" aria-label="STL库继承图"><!--[--><!--[--><!--]--><!--]-->STL库继承图<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>C#</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>sql基础</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/db/SQL.html" aria-label="sql语句"><!--[--><!--[--><!--]--><!--]-->sql语句<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/db/%E5%87%BD%E6%95%B0%E3%80%81%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E8%A7%86%E5%9B%BE.html" aria-label="函数、存储过程和视图"><!--[--><!--[--><!--]--><!--]-->函数、存储过程和视图<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/md/db/ElasticSearch.html" aria-label="ElasticSearch"><!--[--><!--[--><!--]--><!--]-->ElasticSearch<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/md/db/oracle%E4%BC%98%E5%8C%96.html" aria-label="基数"><!--[--><!--[--><!--]--><!--]-->基数<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="linux"><span class="title">linux</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="linux"><span class="title">linux</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>基础知识</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" aria-label="Liunx基础"><!--[--><!--[--><!--]--><!--]-->Liunx基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/vi%E7%BC%96%E8%BE%91%E5%99%A8.html" aria-label="vi文本编辑器"><!--[--><!--[--><!--]--><!--]-->vi文本编辑器<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/md/linux/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86.html" aria-label="权限管理"><!--[--><!--[--><!--]--><!--]-->权限管理<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86.html" aria-label="文件系统管理"><!--[--><!--[--><!--]--><!--]-->文件系统管理<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86.html" aria-label="系统管理"><!--[--><!--[--><!--]--><!--]-->系统管理<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.html" aria-label="备份与恢复"><!--[--><!--[--><!--]--><!--]-->备份与恢复<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86.html" aria-label="服务管理"><!--[--><!--[--><!--]--><!--]-->服务管理<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/日志管理.html" aria-label="/md/linux/日志管理.html"><!--[--><!--[--><!--]--><!--]-->/md/linux/日志管理.html<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>linux软件</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/linux%E5%B7%A5%E5%85%B7.html" aria-label="工具"><!--[--><!--[--><!--]--><!--]-->工具<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>shell</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/shell%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80.html" aria-label="shell基础"><!--[--><!--[--><!--]--><!--]-->shell基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/shell%E7%BC%96%E7%A8%8B.html" aria-label="shell编程"><!--[--><!--[--><!--]--><!--]-->shell编程<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="工具"><span class="title">工具</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="工具"><span class="title">工具</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="框架"><span class="title">框架</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Spring</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/framework/spring/Spring%E5%9F%BA%E7%A1%80.html" aria-label="简介"><!--[--><!--[--><!--]--><!--]-->简介<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/framework/spring/MyBatis.html" aria-label="MyBatis"><!--[--><!--[--><!--]--><!--]-->MyBatis<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Spring_Cloud</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/framework/spring/SpringCloud/SpringCloud.html" aria-label="微服务基础"><!--[--><!--[--><!--]--><!--]-->微服务基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/framework/spring/SpringCloud/Spring_Cloud_Ribbon%E6%BA%90%E7%A0%81.html" aria-label="负载均衡器"><!--[--><!--[--><!--]--><!--]-->负载均衡器<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/framework/spring/SpringCloud/Spring_Cloud_Hystrix%E5%8E%9F%E7%90%86.html" aria-label="Hystrix原理"><!--[--><!--[--><!--]--><!--]-->Hystrix原理<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="计算机基础"><span class="title">计算机基础</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="计算机基础"><span class="title">计算机基础</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/md/computer/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80.html" aria-label="基础"><!--[--><!--[--><!--]--><!--]-->基础<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="电气"><span class="title">电气</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="电气"><span class="title">电气</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数学"><span class="title">数学</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数学"><span class="title">数学</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="英语"><span class="title">英语</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="英语"><span class="title">英语</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="乐理"><span class="title">乐理</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="乐理"><span class="title">乐理</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/md/music/%E4%B9%90%E7%90%86%E5%9F%BA%E7%A1%80.html" aria-label="基础"><!--[--><!--[--><!--]--><!--]-->基础<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="编程"><span class="title">编程</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="编程"><span class="title">编程</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>java</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/code/java/%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84.html" aria-label="架构基础"><!--[--><!--[--><!--]--><!--]-->架构基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/code/java/%E7%BA%BF%E7%A8%8B.html" aria-label="java线程简介"><!--[--><!--[--><!--]--><!--]-->java线程简介<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/code/java/HashMap%E7%B1%BB.html" aria-label="HashMap"><!--[--><!--[--><!--]--><!--]-->HashMap<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/code/java/STL%E5%BA%93.html" aria-label="STL库继承图"><!--[--><!--[--><!--]--><!--]-->STL库继承图<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>C#</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="算法"><span class="title">算法</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="算法"><span class="title">算法</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>sql基础</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/db/SQL.html" aria-label="sql语句"><!--[--><!--[--><!--]--><!--]-->sql语句<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/db/%E5%87%BD%E6%95%B0%E3%80%81%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E8%A7%86%E5%9B%BE.html" aria-label="函数、存储过程和视图"><!--[--><!--[--><!--]--><!--]-->函数、存储过程和视图<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/md/db/ElasticSearch.html" aria-label="ElasticSearch"><!--[--><!--[--><!--]--><!--]-->ElasticSearch<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/md/db/oracle%E4%BC%98%E5%8C%96.html" aria-label="基数"><!--[--><!--[--><!--]--><!--]-->基数<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="linux"><span class="title">linux</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="linux"><span class="title">linux</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>基础知识</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" aria-label="Liunx基础"><!--[--><!--[--><!--]--><!--]-->Liunx基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/vi%E7%BC%96%E8%BE%91%E5%99%A8.html" aria-label="vi文本编辑器"><!--[--><!--[--><!--]--><!--]-->vi文本编辑器<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/md/linux/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86.html" aria-label="权限管理"><!--[--><!--[--><!--]--><!--]-->权限管理<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86.html" aria-label="文件系统管理"><!--[--><!--[--><!--]--><!--]-->文件系统管理<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86.html" aria-label="系统管理"><!--[--><!--[--><!--]--><!--]-->系统管理<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D.html" aria-label="备份与恢复"><!--[--><!--[--><!--]--><!--]-->备份与恢复<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86.html" aria-label="服务管理"><!--[--><!--[--><!--]--><!--]-->服务管理<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/日志管理.html" aria-label="/md/linux/日志管理.html"><!--[--><!--[--><!--]--><!--]-->/md/linux/日志管理.html<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>linux软件</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/linux%E5%B7%A5%E5%85%B7.html" aria-label="工具"><!--[--><!--[--><!--]--><!--]-->工具<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>shell</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/shell%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80.html" aria-label="shell基础"><!--[--><!--[--><!--]--><!--]-->shell基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/linux/shell%E7%BC%96%E7%A8%8B.html" aria-label="shell编程"><!--[--><!--[--><!--]--><!--]-->shell编程<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="工具"><span class="title">工具</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="工具"><span class="title">工具</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="框架"><span class="title">框架</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Spring</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/framework/spring/Spring%E5%9F%BA%E7%A1%80.html" aria-label="简介"><!--[--><!--[--><!--]--><!--]-->简介<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/framework/spring/MyBatis.html" aria-label="MyBatis"><!--[--><!--[--><!--]--><!--]-->MyBatis<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Spring_Cloud</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/framework/spring/SpringCloud/SpringCloud.html" aria-label="微服务基础"><!--[--><!--[--><!--]--><!--]-->微服务基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/framework/spring/SpringCloud/Spring_Cloud_Ribbon%E6%BA%90%E7%A0%81.html" aria-label="负载均衡器"><!--[--><!--[--><!--]--><!--]-->负载均衡器<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/md/framework/spring/SpringCloud/Spring_Cloud_Hystrix%E5%8E%9F%E7%90%86.html" aria-label="Hystrix原理"><!--[--><!--[--><!--]--><!--]-->Hystrix原理<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="计算机基础"><span class="title">计算机基础</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="计算机基础"><span class="title">计算机基础</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/md/computer/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80.html" aria-label="基础"><!--[--><!--[--><!--]--><!--]-->基础<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="电气"><span class="title">电气</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="电气"><span class="title">电气</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数学"><span class="title">数学</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数学"><span class="title">数学</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="英语"><span class="title">英语</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="英语"><span class="title">英语</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="乐理"><span class="title">乐理</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="乐理"><span class="title">乐理</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/md/music/%E4%B9%90%E7%90%86%E5%9F%BA%E7%A1%80.html" aria-label="基础"><!--[--><!--[--><!--]--><!--]-->基础<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">linux系统 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/md/linux/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" aria-label="Liunx基础"><!--[--><!--[--><!--]--><!--]-->Liunx基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/md/linux/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86.html" aria-label="权限管理"><!--[--><!--[--><!--]--><!--]-->权限管理<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">linux工具 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/md/linux/vi%E7%BC%96%E8%BE%91%E5%99%A8.html" aria-label="vi文本编辑器"><!--[--><!--[--><!--]--><!--]-->vi文本编辑器<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">shell编程 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/md/linux/shell%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80.html" aria-label="shell基础"><!--[--><!--[--><!--]--><!--]-->shell基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/md/linux/shell%E7%BC%96%E7%A8%8B.html" aria-label="shell编程"><!--[--><!--[--><!--]--><!--]-->shell编程<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="权限管理" tabindex="-1"><a class="header-anchor" href="#权限管理"><span>权限管理</span></a></h1><h2 id="用户文件" tabindex="-1"><a class="header-anchor" href="#用户文件"><span>用户文件</span></a></h2><p>如果我创建一个用户后会在home文件下建立一个文件。</p><blockquote><p>root用户为单独文件</p></blockquote><ul><li>普通用户：/home/用户名/，所有者和所属组都是此用户，权限是700</li><li>超级用户：/root/,所有者和所属组都是root用户，权限是550 <ul><li>(如果将普通用户改为超级用户该用户的目录不会改变。)</li></ul></li><li>用户的邮箱：/var/spool/mail/用户名/</li><li>用户模板目录：/etc/skel/</li><li>用户默认值文件：/etc/default/useradd /etc/login.defs</li></ul><p>初始组：linux每添加一个用户就会以这个用户名创建一个组。初始组可以改不可以选。</p><p>附加组：用户可以加入多个其他的用户组，并拥有这些组的权限，附件组可以有多个</p><p>shell就是Linux的命令解释器，在/etc/passwd当中，除了标准shell是/bin/bash之外，还可以写如/sbin/nologin.</p><p>把时间戳换算为日期<code>date -d &quot;1970-01-01 16066 days&quot;</code></p><p>把日期换算为时间戳<code>echo$(($(date --date=&quot;2014/01/06&quot;+%s)/86400+1))</code></p><h2 id="用户管理命令" tabindex="-1"><a class="header-anchor" href="#用户管理命令"><span>用户管理命令</span></a></h2><p>用户添加命令<code>useradd [选项] 用户名</code> 选项：</p><ul><li>-u UID ：手工指定用户的UID号</li><li>-d 家目录：手工指定用户的家目录</li><li>-c 用户说明：手工指定用户的说明</li><li>-g 组名：手工指定用户的初始组</li><li>-G组名：指定用户的附加组</li><li>-s shell：手工指定用户的登录shell。默认是/bin/bash</li></ul><p>修改用户密码<code>passwd [选项] 用户名</code> 选项：</p><ul><li>-S ：查询用户密码的密码状态。仅root用户可用</li><li>-l ：暂时锁定用户。仅root用户可用</li><li>-u ：解锁用户。仅root</li><li>--stdin ：可以通过管道符输出的数据作为用户的密码。</li></ul><p>修改用户信息<code>usermod [选项] 用户名</code> 选项：</p><ul><li>-u UID</li><li>-c 用户说明</li><li>-G 组名</li><li>-L 锁定</li><li>-U 解锁</li></ul><p>修改用户密码状态<code>chage [选项] 用户名</code> 选项：</p><ul><li>-l ：查询密码状态</li><li>-d 日期：修改密码最后一次更改日期（shadow3字段）</li><li>-m 天数：两次密码修改间隔（4）</li><li>-M 天数：密码有效期（5）</li><li>-W 天数：密码过期前警告天数（6）</li><li>-I 天数：密码过后宽限天数（7）</li><li>-E 日期：账号失效时间（8）</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">chage <span class="token parameter variable">-d</span> <span class="token number">0</span> 用户名</span>
<span class="line"><span class="token comment">#要求用户下次更改密码</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>删除用户<code>userdel [-r] 用户名</code> 选项：</p><ul><li>-r ：删除用户的同时删除用户家目录 id 用户 查询用户的所有ID</li></ul><p>用户切换命令<code>su [选项] 用户名</code> 选项：</p><ul><li>-：选项只使用“-”代表连带用户的环境变量一起切换</li><li>-c ：仅执行一次命令，而不切换用户身份</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">su</span> <span class="token parameter variable">-root</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;useradd user3&quot;</span></span>
<span class="line"><span class="token comment">#不切换成root，但是执行useradd命令添加userl用户</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="用户配置文件" tabindex="-1"><a class="header-anchor" href="#用户配置文件"><span>用户配置文件</span></a></h2><ol><li><strong>用户信息文件/etc/passwd</strong></li></ol><ul><li>第1字段：用户名称</li><li>第2字段：密码标志</li><li>第3字段：UID（用户ID） <ul><li>0：超级用户</li><li>1-499：系统用户（为用户）</li><li>500-65535：普通用户，centos7从1000开始</li></ul></li><li>第4字段：GIU（用户初始组ID）</li><li>第5字段：用户说明（备注）</li><li>第6字段：家目录 <ul><li>普通用户：/home/用户名/</li><li>超级用户：/root/</li></ul></li><li>第7字段：登录之后的Shell</li></ul><ol><li><strong>影子文件/etc/shadow</strong></li></ol><p>权限为000</p><ul><li>第1字段：用户名</li><li>第2字段：加密密码 <ul><li>加密算法升级为SHA512散列加密算法</li><li>如果密码位是“!!”或“*”代表没有密码，不能登录</li></ul></li><li>第3字段：密码最后一次修改日期 <ul><li>使用1970年1月1日作为标准时间，每过一天时间戳加1</li></ul></li><li>第4字段：两次密码的修改间隔时间（和第3字段相比）</li><li>第5字段：密码有效期（和第3字段相比）</li><li>第6字段：密码修改到期前的警告天数（和第5字段相比）</li><li>第7字段：密码过期后的宽限天数（和第5字段相比） <ul><li>0：表示密码过期后立即失效</li><li>-1：则表示密码永远不会失效（默认）</li></ul></li><li>第8字段：账号失效时间 <ul><li>要用时间戳表示</li></ul></li><li>第9字段：保留</li></ul><ol><li><strong>组信息文件/etc/group和组密码文件/etc/gshadow</strong></li></ol><p>group：</p><ul><li>第1字段：组名</li><li>第2字段：密码标志</li><li>第3字段：GIU（同上）</li><li>第4字段：组中附加用户（不会显示初始用户）</li></ul><p>gshadow：</p><ul><li>第1字段：组名</li><li>第2字段：组密码</li><li>第3字段：组管理员用户名</li><li>第4字段：组中附加用户</li></ul><h2 id="用户组管理" tabindex="-1"><a class="header-anchor" href="#用户组管理"><span>用户组管理</span></a></h2><p>添加用户组<code>groupadd [选项] 组名</code> 选项：</p><ul><li>-g GID ：指定组ID</li></ul><p>修改用户组<code>groupmod [选项] 组名</code> 选项：</p><ul><li>-g GID：修改组ID</li><li>-n 新组名：修改组名</li></ul><p>删除用户组<code>groupdel 组名</code></p><p>把用户添加入组或从组中删除<code>gpasswd 选项组名</code> 选项：</p><ul><li>-a 用户名：把用户加入组</li><li>-d 用户名：把用户从组中删除</li></ul><h2 id="acl权限" tabindex="-1"><a class="header-anchor" href="#acl权限"><span>ACL权限</span></a></h2><p>用于解决身份不足的问题解决</p><p>开启acl <code>dumpe2fs -h 分区</code></p><blockquote><p>dumpe2fs命令是查询指定分区详细文件系统信息的命令</p></blockquote><ul><li>-h 仅显示超级中信息，而不显示磁盘快的详细信息</li></ul><p><code>mount -o remount,acl /</code></p><blockquote><p>重新挂载根分区，并挂载加入acl权限（临时）</p></blockquote><p><code>vi /etc/fstab</code></p><p><code>UUID=c2………../ ext4 defaults,acl 1 1</code></p><blockquote><p>加入acl(永久)</p></blockquote><p><code>mount -o remount /</code></p><blockquote><p>重新挂载文件系统或重启动系统，使修改生效</p></blockquote><h3 id="查看与设定" tabindex="-1"><a class="header-anchor" href="#查看与设定"><span>查看与设定</span></a></h3><p>查看ACL命令<code>getfacle 文件名</code></p><p>设定ACL权限的命令<code>setfacl 选项文件名</code> 选项：</p><ul><li>-m (u&lt;用户权限&gt;:用户:权限)/(g&lt;组权限&gt;:组名:权限)/(m&lt;最大有效权限&gt;:权限)/(d&lt;默认&gt;:u&lt;用户&gt;:用户名:权限[只允许目录]) 设定ACL权限</li><li>-x (同上无需指定权限) 删除指定的ACL权限</li><li>-b 删除所有的ACL权限</li><li>-d 设定默认ACL权限</li><li>-k 删除默认ACL权限</li><li>-R 递归设定ACL权限 [必须跟着m后面 | 只允许目录]</li></ul><p>mask是用来指定最大有效权限的。如果我给用户赋予了ACL权限，是需要和mask的权限“相与”才能得到用户的真正权限 设置默认默认ACL权限的作用是如果给父目录设定了默认ACL权限，那么父目录中所有新建的子文件都会继承父目录的ACL权限</p><h2 id="文件系统属性chattr权限" tabindex="-1"><a class="header-anchor" href="#文件系统属性chattr权限"><span>文件系统属性chattr权限</span></a></h2><p><code>chattr [+-=][选项] 文件或目录名</code></p><p>+：增加权限 -：删除权限 =：等于某权限 选项：</p><ul><li>i: 如果对文件设置i属性，那么不允许文件进行删除、改名，也不能添加和修改数据;如果对目录设置i属性，那么只能修改目录下文件的数据，但不允许建立和删除文件。(对root生效)</li><li>a:如果对文件设置a属性，那么只能在文件中增加数据，但是不能删除也不能修改数据;如果对目录设置a属性，那么只允许在目录中建立和修改文件，但是不允许删除</li></ul><h2 id="系统命令权限sudo" tabindex="-1"><a class="header-anchor" href="#系统命令权限sudo"><span>系统命令权限sudo</span></a></h2><ul><li>root把本来只能超级用户执行的命令赋予普通用户执行</li><li>sudo的操作对象是系统命令</li></ul><p><code>sudo -l</code></p><blockquote><p>查看可用的sudo命令</p></blockquote><p>赋予权限</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token comment">#visudo</span></span>
<span class="line"><span class="token comment">#实际修改的是/etc/sudoers文件</span></span>
<span class="line">root     <span class="token assign-left variable">ALL</span><span class="token operator">=</span>（ALL） ALL</span>
<span class="line"><span class="token comment">#用户名  被管理主机的地址=（可使用的身份）  授权命令（绝对路径）</span></span>
<span class="line"><span class="token comment">#%wheel   ALL=(ALL)  ALL</span></span>
<span class="line"><span class="token comment">#%组名   被管理组主机的地址=(可使用的身份)  授权命令（绝对路径）</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="文件特殊权限" tabindex="-1"><a class="header-anchor" href="#文件特殊权限"><span>文件特殊权限</span></a></h2><p>除了 rwx 权限，还会用到 s 权限</p><h3 id="setuid" tabindex="-1"><a class="header-anchor" href="#setuid"><span>SetUID</span></a></h3><p>SUID 特殊权限仅适用于<strong>可执行文件</strong>，所具有的功能是，只要用户对设有 SUID 的文件有执行权限，那么当用户执行此文件时，会以文件所有者的身份去执行此文件，一旦文件执行结束，身份的切换也随之消失。</p><p>功能：</p><ul><li>只有可以执行的二进制程序(可执行文件)才能设定SUID权限</li><li>命令执行者要对该程序拥有x (执行)权限</li><li>命令执行者在执行该程序时获得该程序文件属主的身份(在执行程序的过程中临时替代为文件的属主)</li><li>SetUID权限只在该程序执行过程中有效，也就是说身份改变只在程序执行过程中有效</li></ul><p>设定 4代表SUID 2代表SGID 1代表SBIT</p><p><code>chmod 4755 文件名（如果出现大写S为报错）</code></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">chmod</span> u+s 文件名</span>
<span class="line"></span>
<span class="line"><span class="token function">chmod</span> <span class="token number">755</span> 文件名</span>
<span class="line"></span>
<span class="line"><span class="token function">chmod</span> u-s 文件名</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>温馨提示：（不要设置SUID）</p></blockquote><p>关键目录应严格控制写权限。比如“/”、“/usr”等</p><p>用户的密码设置要严格遵守密码三原则</p><p>对系统中默认应该具有SetUID权限的文件作一列表，定时检查有没有这之外的文件被设置了SetUID权限</p><h3 id="setgid" tabindex="-1"><a class="header-anchor" href="#setgid"><span>SetGID</span></a></h3><p>当 s 权限位于所属组的 x 权限位时，就被称为 SetGID，简称 SGID 特殊权限</p><p>对文件的作用：</p><ul><li>只有可执行的二进制程序才能设置SGID权限</li><li>命令执行者要对该程序拥有x (执行)权限.</li><li>命令执行在执行程序的时候，组身份升级为该程序文件的属组</li><li>SetGID权限同样只在该程序执行过程中有效,也就是说组身份改变只在程序执行过程中有效</li></ul><p>执行locate命令时发生的</p><ol><li>/usr/bin/locate是可执行二进制程序，可以赋予SGID</li><li>执行用户lamp对/usr/bin/locate命令拥有执行权限</li><li>执行/usr/bin/locate命令时，组身份会升级为slocate组，slocate组 对/var/lib/mlocate/mlocate.db数据库拥有r权限，所以普通用户可以使用locate命令查询mlocate.db数据库</li><li>命令结束，lamp用户的组身份返回为lamp组</li></ol><p>对目录的作用</p><ul><li>普通用户必须对此目录拥有r和x权限，才能进入此目录</li><li>普通用户在此目录中的有效组会变成此目录的属组</li><li>若普通用户对此目录拥有w权限时，新建的文件的默认属组是这个目录的属组</li></ul><h3 id="sticky-bit" tabindex="-1"><a class="header-anchor" href="#sticky-bit"><span>Sticky BIT</span></a></h3><p>粘着位作用</p><ul><li>粘着位目前只对目录有效</li><li>普通用户对该目录拥有w和x权限，即普通用户可以在此目录拥有写入权限</li><li>如果没有粘着位，因为普通用户拥有w权限，所以可以删除此目录下所有文件，包括其他用户建立的文件。一但赋予了粘着位，除了root可以删除所有文件，普通用户就算拥有w权限，也只能删除自己建立的文件，但是不能删除其他用户建立的文件</li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/md/linux/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" aria-label="Liunx基础"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Liunx基础</span></div><!--]--></a><!----></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DyLo7YyT.js" defer></script>
  </body>
</html>
